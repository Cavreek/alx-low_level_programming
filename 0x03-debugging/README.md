Debugging and fixing errors in c
